---
title: web-web与服务器(二)
date: 2021-12-11 21:44:09
tags: web
description: web二
category: 学习笔记
cover: /imgs/feng6.jpg
---

{% note blue 'fa-pencil' simple %}

# 第二章 HTTP协议基础

{% endnote %}

## 2.1 HTTP的基本概念与交互模型

### 2.1.1 HTTP协议简介

> 是web客户端与服务器端之间数据传输的通信协议。

* 是运行在传输层TCP协议之上的应用层的协议。
* web服务器通常在TCP的80端口侦听HTTP请求以提供Web页面访问服务。
* 除了Web服务器，其他类型的应用也会用HTTP协议作为数据传输协议
* HTTP协议支持客户机-服务器模式。

### 2.1.2 HTTP协议交互模型

![image-20211211215120811](web-web与服务器(二)/image-20211211215120811.png)

主要包括四个步骤

1. 客户端向服务器侦听的TCP端口发起连接，直到客户端和服务端的TCP链接正常建立
2. 客户端通过建立的TCP连接，向服务端发送一个完整的HTTP请求消息，然后等待服务端响应
3. 服务端收到客户端的请求，进行分析和处理，生成HTTP响应消息，通过建立的TCP连接返回给客户端
4. 服务端在确认客户端收到响应消息之后，服务端主动关闭连接。释放相关资源

![image-20211211215553104](web-web与服务器(二)/image-20211211215553104.png)

#### 🎠HTTP代理

> HTTP代理，本质上是一个既做服务端又做客户端的中介程序，它的主要工作就是接受客户端发送的请求消息，转发给服务器端，然后接受服务器端返回的响应消息，再转发给客户端。

http代理的交互过程

* 客户端建立与代理的TCP连接，发送请求消息
* 代理分析收到的请求消息，如果能自己处理，就直接生成响应消息发送给客户端，否则建立服务端的TCP连接，把经过翻译处理的HTTP请求消息发送给实际的服务端。
* 服务端分析处理请求消息，生成HTTP响应消息，返回给代理，再确定对方收到后关闭连接。
* 代理接收到响应消息后，经过必要的分析和处理，再发送回给客户端，再对方确认收到后关闭连接。

