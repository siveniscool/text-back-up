---
title: Spider
date: 2021-11-20 10:18:59
tags: python
description: å› ä¸ºåˆ’äº†å¾ˆä¹…çš„æ°´ï¼Œæ‰€ä»¥å¤§æ¦‚éƒ½å¿˜å…‰äº†ã€‚ã€‚ã€‚
cover: /imgs/feng.jpg
---

# 

## åŸºæœ¬å·¥ä½œæ­¥éª¤

1. è·å–æ•°æ®ã€‚æ ¹æ®æä¾›çš„ç½‘å€ï¼Œå‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼Œç„¶åè¿”å›æ•°æ®
2. è§£ææ•°æ®ã€‚æŠŠæœåŠ¡å™¨è¿”å›çš„æ•°æ®è§£ææˆæˆ‘ä»¬èƒ½è¯»æ‡‚çš„æ ¼å¼
3. æå–æ•°æ®ã€‚ä»ä¸­æå–æˆ‘ä»¬éœ€è¦çš„æ•°æ®
4. å­˜å‚¨æ•°æ®ã€‚æŠŠæœ‰ç”¨çš„æ•°æ®å­˜å‚¨èµ·æ¥

## robotsåè®®

> çœ‹ä¼šä¸ä¼šè¢«æŠ“å•¥çš„

`url/robots.txt`

å°±èƒ½çœ‹åˆ°äº†

## è·å–æ•°æ®

>  ä½¿ç”¨resquestsåº“

### request.get()

request.get()è¿”å›çš„æ˜¯ä¸€ä¸ª`Response`ç±»çš„å¯¹è±¡

ğŸ‘‰**Responseå¸¸ç”¨å±æ€§**

```html
response.status_code				//æ£€æŸ¥è¯·æ±‚æ˜¯å¦æˆåŠŸ

response.content					//æŠŠresponseå¯¹è±¡è½¬æ¢ä¸ºäºŒè¿›åˆ¶æ•°æ®

response.text						//æŠŠresponseå¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²æ•°æ®

response.enconding				    //å®šä¹‰responseå¯¹è±¡çš„ç¼–ç 
```

* response.status_codeï¼Œå¯ä»¥ç”¨æ¥æ£€æŸ¥è¯·æ±‚æ˜¯å¦æ­£ç¡®å“åº”
  * 200 æœåŠ¡å™¨åŒæ„è¯·æ±‚
  * 1** æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ï¼Œå¦‚100ï¼Œç»§ç»­æå‡ºè¯·æ±‚
  * 2** è¯·æ±‚æˆåŠŸï¼Œå¦‚200ï¼Œè¯·æ±‚æˆåŠŸ
  * 3** é‡å®šå‘ï¼Œå¦‚305ï¼Œåº”ä½¿ç”¨ä»£ç†è®¿é—®
  * 4** å®¢æˆ·ç«¯é”™è¯¯ ï¼Œå¦‚403ï¼Œç¦æ­¢è®¿é—®
  * 5** æœåŠ¡å™¨ç«¯é”™è¯¯ï¼Œå¦‚503ï¼ŒæœåŠ¡ä¸å¯ç”¨
* response.content,é€‚ç”¨äºå›¾ç‰‡ã€éŸ³é¢‘å’Œè§†é¢‘çš„ä¸‹è½½

```python
pic = h_pic.content
pho = open file('a.jpg','wb')
pho.write(pic)
pho.close()
```



* response.textï¼Œé€‚ç”¨äºæ–‡å­—ï¼Œç½‘é¡µæºä»£ç çš„ä¸‹è½½

```python
novel = html.text
#è¿™æ—¶çš„novelå°±æ˜¯å­—ç¬¦ä¸²æ ¼å¼ï¼Œå¯ä»¥å†™å…¥æ–‡ä»¶
```

* response.encoding,å¯ä»¥å®šä¹‰Responseå¯¹è±¡çš„ç¼–ç ï¼Œé‡åˆ°æ–‡æœ¬ä¹±ç çš„æƒ…å†µæ‰è€ƒè™‘ç”¨è¿™ä¸ª

`response.encoding = 'gbk'  #å°±æ˜¯å°†è¿”å›çš„æ•°æ®ç”¨gbkç¼–ç `

## æ•°æ®è§£æ

